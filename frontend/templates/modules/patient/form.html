{% load i18n %}

<div id="form" style="display: none">
	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item active" aria-current="page">
				<i id="moduleIcon" class="fa fa-address-card-o"></i>
				<b>
					<span id="moduleName">{% trans 'Patients' %}</span>
				</b>
			</li>
			<li class="breadcrumb-item active" aria-current="page">
				<span id="moduleOption"></span>
			</li>
		</ol>
	</nav>
	<div id="formAlert" class="alert" role="alert" style="display: none">
	</div>
	{% csrf_token %}
	<div class="card bg-light">
		<div class="card-header">
			<ul class="nav nav-pills card-header-pills ">
				{% include 'components/menu_form.html' %}
			</ul>
		</div>
		<div class="card-body">

			<form id="main" data-parsley-validate>
				<div class="form-row">
					<div class="form-group col-md-3">
						<label for="patientId">{% trans 'Identification' %}</label>
						<input type="text"
							   class="form-control form-control-sm"
							   id="patientId"
							   name="id"
							   isPk
							   disabled>
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="patientFirstName">{% trans 'First Name' %}</label>
						<input type="text"
							   class="form-control form-control-sm"
							   data-parsley-required-message="{% trans 'Enter the first name of the patient' %}"
							   required
							   id="patientFirstName"
							   name="first_name">
					</div>
					<div class="form-group col-md-6">
						<label for="patientLastName">{% trans 'Last Name' %}</label>
						<input type="text"
							   class="form-control form-control-sm"
							   data-parsley-required-message="{% trans 'Enter the last name of the patient' %}"
							   autocomplete="off"
							   required
							   id="patientLastName"
							   name="last_name">
					</div>
				</div>

				<div class="form-row">
					<div class="form-group col-md-6 mb-3">
						<label for="patientBirthDate">{% trans 'Birth Date' %}</label>
						<input type="text"
							   isDatePicker
							   class="form-control form-control-sm"
							   data-parsley-required-message="{% trans 'Enter the birth date of the patient' %}"
							   data-parsley-errors-container="#birthDateValidateMessage"
							   required
							   id="patientBirthDate"
							   name="birth_date">
						<div id="birthDateValidateMessage"></div>
					</div>
					<div class="form-group col-md-6">
						<label for="patientGender">{% trans 'Gender' %}</label>
						<select class="form-control form-control-sm"
								data-parsley-required-message="{% trans 'Enter the gender of the patient' %}"
								autocomplete="off"
								required
								id="patientGender"
								name="gender">
							<option value="1">{% trans 'Masculine' %}</option>
							<option value="2">{% trans 'Feminine' %}</option>
						</select>
					</div>
				</div>

				<div class="card">
					<div class="card-header">
						<ul class="nav nav-tabs card-header-tabs">
							<li class="nav-item">
								<a class="nav-link active"
								   id="a_institutions"
								   data-toggle="tab"
								   href="#tab_institutions"
								   role="tab"
								   aria-controls="institutions"
								   aria-selected="true">
									<b>{% trans 'Institutions' %}</b>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link"
								   id="a_comments"
								   data-toggle="tab"
								   href="#tab_comments"
								   role="tab"
								   aria-controls="details"
								   aria-selected="false">
									<b>{% trans 'Details' %}</b>
								</a>
							</li>
						</ul>
					</div>
					<div class="card-body">
						<div class="tab-content" id="myTabContent">

							<div class="tab-pane fade show active"
								 id="tab_institutions"
								 role="tabpanel"
								 aria-labelledby="home-tab">

								<button type="button" class="btn btn-primary btn-sm" id="addInstitutions">
									<i class="fa fa-plus"></i>
									<b>{% trans 'Add Institutions' %}</b>
								</button>
								<button type="button" class="btn btn-danger btn-sm" id="removeAllowed">
									<i class="fa fa-trash"></i>
									<b>{% trans 'Remove' %}</b>
								</button>

								<div id="datatableInstitutions" class="mt-3">
								</div>
							</div>

							<div class="tab-pane fade"
								 id="tab_comments"
								 role="tabpanel"
								 aria-labelledby="profile-tab">
								<div class="form-group mt-2">
									<label for="patientObs">{% trans 'Comments' %}</label>
									<textarea cols="30"
											  rows="5"
											  class="form-control"
											  maxlength="1000"
											  id="patientObs"
											  name="obs">
									</textarea>
								</div>
							</div>

						</div>
					</div>
				</div>

			</form>

		</div>
	</div>
</div>
